<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>DAPI ‚Äî REST API Documentation</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    code { background: #eee; padding: 3px; border-radius: 4px; }
    .category { margin-top: 20px; font-size: 20px; font-weight: bold; }
    .item { margin-left: 20px; margin-top: 5px; }
  </style>
</head>
<body>
  <h1>DAPI ‚Äî REST API</h1>

  <p>Membaca fitur yang tersedia di file <code>routes.json</code>.</p>

  <div id="list">Loading...</div>

  <script>
    async function load() {
      const res = await fetch("/api/list");
      const data = await res.json();

      if (!data.success) {
        document.getElementById("list").innerHTML =
          "<p>Gagal memuat fitur.</p>";
        return;
      }

      let html = "";

      for (const category in data.routes) {
        html += `<div class='category'>üìÅ ${category}</div>`;

        data.routes[category].forEach(feature => {
          html += `
            <div class="item">
              üîó <code>/api/${category}/${feature}</code>
            </div>
          `;
        });
      }

      document.getElementById("list").innerHTML = html;
    }

    load();
  </script>
</body>
</html>
